<!doctype html>
<html>
	<head>

		<link href='http://fonts.googleapis.com/css?family=Bubbler+One' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400' rel='stylesheet' type='text/css'>		

		<style>
		body{
			background-image: url('images/aluminum.jpg');
			background-repeat: repeat;
			font-family: 'Source Sans Pro', 'HelveticaNeue-Light', 'Bubbler One', sans-serif;
			font-weight: lighter;
		}
		table, td, th {
			padding: 0;
			margin: 0;
		}
		h3 {
			font-size: 12px;
			color: white;
		}
		#wrapper{
			position: absolute;
			top: 0;
			left: 0;
			height: 100%;
			width: 100%;
		}
		#phone-body{
			position: absolute;
			left: 35%;
			top: 20px;
		}
		#phone-screen{
			position: absolute;
			height: 586px;
			width: 410px;
			background: white;
			left: 37%;
			top: 147.8px;
			color: black;
			background-color: rgba(0,0,0,0.1);
		}
		#titleBar{
			width: 100%;
			background-color: black;
			height: 10%;
			position: absolute;
			left: 0;
			top: 0;
			color: rgb(219,219,219);
			font-size: 0.5em;
			line-height: 50px;
			font-family: 'Bubbler One';
		}
		#navBar{
			height: 5%;
			width: 100%;
			position: absolute;
			left: 0;
			bottom: 0;
			background: black;
			color: rgb(219,219,219);
			font-size: 0.5em;
		}
		.button2 {
			padding: .5em;
			width: 17em;
			height: 4em;
			color: #222;
			font-weight: 700;
			border: solid thin #222;
			-webkit-border-radius: .7em;
			-moz-border-radius: .7em;
			border-radius: .7em;
			-webkit-box-shadow: 2px 2px 3px #999; 
			box-shadow: 2px 2px 2px #bbb;
			background-color: #ce401c;
			background-image: -webkit-gradient(linear, left top, left bottom, from(#DDD), to(#FFF),color-stop(0.4, #AAA));
		}
		</style>

		<script>
		var state = 0;

		var STATE_SPLASH 			= 0;
		var STATE_HOME 				= 1;
		var STATE_TICKETS			= 2;
		var STATE_ACCOUNT			= 3;
		var STATE_ACCOUNT_CREATION 	= 4;
		var STATE_LOG_IN			= 5;
		var STATE_CREDIT_CREATION	= 6;
		var STATE_TAP_LINK			= 7;

		var createCredit = false;
		var linkTap = false;

		function changeState(state){
			
			if (state == STATE_LOG_IN){
				document.getElementById('phone-screen').innerHTML = "<div id = 'titleBar'>metro<span style = 'font-size: 1em; color: rgb(69, 173, 255);'>Tap</span></div><br><span style = 'font-size: 0.7em;' >Log In</span><br><input type = 'text' id = 'username' placeholder = 'username' required /><br><input type = 'password' id = 'password' placeholder = 'password' required /><br><input class = 'button2' type = 'submit' value = 'Submit' id = 'submit-log' onclick = 'validateLogIn();'/><span style = 'font-size: 0.7em; position: absolute; top: 65%; left: 50%;'>Your Mobile <br> Pass Awaits!</span>";
			}
			else if (state == STATE_ACCOUNT_CREATION){
				document.getElementById('phone-screen').innerHTML = "<div id = 'titleBar'>metro<span style = 'font-size: 1em; color: rgb(69, 173, 255);'>Tap</span></div><span style = 'font-size: 0.5em; line-height: 1em;'><br><span style = 'font-size: 1.1em;' >Account Creation</span><br>Username: <input type = 'text' id = 'username' placeholder = 'username' required /><br>Password: <input type = 'password' id = 'password' placeholder = 'password' required /><br>Password: <input type = 'password' id = 'password' placeholder = 're-enter password' required /><br><span style = 'font-size: 0.7em'>Want to add a credit card? <input type ='radio' id = 'creditYes' name = 'credit' />Yes <input type = 'radio' id = 'creditNo' name = 'credit' /> No<br>Do you have a TAP account? <input type ='radio' id = 'tapYes' name = 'tap' />Yes <input type = 'radio' id = 'tapNo' name = 'tap'/> No</br></span><span style = 'font-size: 0.4em'>By checking this box you agree to the terms and conditions of use:</span><input type = 'checkbox' id = 'checkConditions' required/><br><input class = 'button2' type = 'submit' value = 'Submit' id = 'submit-log' onclick = 'validateAccountCreation();' />";
			}
			else if (state == STATE_CREDIT_CREATION){
				document.getElementById('phone-screen').innerHTML = "	<div id = 'titleBar'>metro<span style = 'font-size: 1em; color: rgb(69, 173, 255);'>Tap</span></div><br><span style = 'font-size: 0.5em; line-height: 1em;'>Enter Credit Card Information:<br><span style = 'font-size: 0.7em'>Name on Card <input type = 'text' id = 'creditcardname' /><br>Credit Card # <input type = 'text' id = 'creditcardnumber' /><br>Security Code <input type = 'text' id = 'creditcardsecurity' /><br>Card Expiration <input type = 'date' id ='creditcardexp' /><br><br><input class = 'button2' type = 'submit' value = 'Submit' id = 'submit-creditcard' onclick = 'if (linkTap) changeState(STATE_TAP_LINK); else changeState(STATE_HOME);' /></span></span></span>";
			}
			else if (state == STATE_TAP_LINK){
				document.getElementById('phone-screen').innerHTML = "	<div id = 'titleBar'>metro<span style = 'font-size: 1em; color: rgb(69, 173, 255);'>Tap</span></div><br><span style = 'font-size: 0.5em; line-height: 1em;'>Enter TAP Login:<br><span style = 'font-size: 0.7em'>Username: <input type = 'text' id = 'tapusername' /><br>Password: <input type = 'password' id = 'tappassword' /><br><br><input class = 'button2' type = 'submit' value = 'Submit' id = 'submit-tapinfo' onclick = 'changeState(STATE_HOME)' /></span></span>";
			}
			else if (state == STATE_HOME){
				document.getElementById('phone-screen').innerHTML = "<div id = 'titleBar'>metro<span style = 'font-size: 1em; color: rgb(69, 173, 255);'>Tap</span></div><br><br>HOME<div id = 'navBar'></div>";
			}
			else if (state == STATE_TICKETS){
				document.getElementById('phone-screen').innerHTML = "<div id = 'titleBar'>metro<span style = 'font-size: 1em; color: rgb(69, 173, 255);'>Tap</span></div><br><br>TICKETS<div id = 'navBar'></div>";
			}
			else if (state == STATE_ACCOUNT){
				document.getElementById('phone-screen').innerHTML = "<div id = 'titleBar'>metro<span style = 'font-size: 1em; color: rgb(69, 173, 255);'>Tap</span></div><br><br>ACCOUNT<div id = 'navBar'></div>";
			}
			else alert('Error: Unknown State');

			// Build nav bar
			var navBarEl = document.getElementById('navBar');
			if (typeof(navBarEl) != 'undefined' && navBarEl != null) {
				navBarEl.innerHTML = "<table style='width: 100%; background-color: black; text-align: center; border-collapse: collapse;'><tr'><td style='width: 33%; border: 2px solid white;' onclick='changeState(STATE_HOME)'><h3>Home</h3></td><td style='width: 33%; border: 2px solid white;' onclick='changeState(STATE_TICKETS)'><h3>Tickets</h3></td><td style='width: 33%; border: 2px solid white;' onclick='changeState(STATE_ACCOUNT)'><h3>Account</h3></td></tr></table>";
			}
		}

		function validateAccountCreation(){
			var radios = document.getElementsByName('credit');

			for (var i = 0, length = radios.length; i < length; i++) {
			    if (radios[i].checked) {
			       	
			       	//if yes
			        if (i == 0){
			        	createCredit = true;
			        }
			        else if (i == 1){
			        	createCredit = false;
			        }

			        // only one radio can be logically checked, don't check the rest
			        break;
			    }
			}

			var taps = document.getElementsByName('tap');
			for (var i = 0, length = taps.length; i < length; i++) {
			    if (taps[i].checked) {
			       	//if yes
			        if (i == 0){
			        	linkTap = true;
			        }
			        else if (i == 1){
			        	linkTap = false;
			        }

			        // only one radio can be logically checked, don't check the rest
			        break;
			    }
			}

			if (createCredit){
				changeState(STATE_CREDIT_CREATION);
			}
			else if (linkTap){
				changeState(STATE_TAP_LINK);
			}
			else changeState(STATE_HOME);
		}

		function validateLogIn(){
			changeState(STATE_HOME);
		}

		</script>
	</head>

	<body>
		<div id = 'wrapper'>
			<img id = 'phone-body' src = 'images/iphone-mock.png' height = '852px' width = '480px' />
			<div id = 'phone-screen' style = 'font-size: 3em; margin-top: 1%; text-align: center;'>
				<div id = 'titleBar'>
					metro<span style = 'font-size: 1em; color: rgb(69, 173, 255);'>Tap</span>
				</div>
				<br>
				<br>
				<input class = 'button2' type = 'button' value = 'Log In' id = 'log-in' onclick = 'changeState(STATE_LOG_IN);' />
				<br>
				<input class = 'button2' type = 'button' value = 'Create Account' id = 'create-account' onclick = 'changeState(STATE_ACCOUNT_CREATION);' />
				<span style = 'font-size: 0.7em; position: absolute; top: 65%; left: 50%;'>Your Mobile <br> Pass Awaits!</span>
				<div id = 'navBar'></div>
			</div>
		</div>

	</body>
</html>
